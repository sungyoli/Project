<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- 반응형 웹 -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../header/header.css" />
    <link rel="stylesheet" href="main.css" />
    <link rel="stylesheet" href="profile.css" />
    <script
      src="https://kit.fontawesome.com/67a1f076db.js"
      crossorigin="anonymous"
    ></script>
    <script src="../calender/createday.js"></script>
    <!-- (3-3-2). 자바스크립트 소스 추가
defer : 모든 html 파일을 로딩할때까지 html이 브라우저창에 표시가 안되는 것을 방지 -->
    <title>main</title>
  </head>
  <body>
    <div class="wrap">
      <!-- header 시작 -->
      <div id="header"></div>
      <!-- header 끝 -->

      <div class="wrapline">
        <div class="line">
          <div class="search">
            <div class="form-group has-search">
              <span class="fa fa-search form-control-feedback"></span>
              <input type="text" class="form-control" placeholder="통합검색" />
              <ul class="top_icons">
                <li>
                  <a href="../mypage/mypage.html"
                    ><i class="fa-solid fa-user"></i
                  ></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="section_wrap">
          <section class="section1">
            <article>
              <div class="user-profile">
                <div class="profile"></div>
                <div class="profileInfo">
                  <div id="username">홍길동</div>
                  <div class="description">
                    <div><span id="city">ICT그룹</span></div>
                  </div>
                  <ul class="inputBotton">
                    <li>
                      <a href="../메일/메일.html"><span>오늘 온 메일</span></a>
                    </li>
                    <li>
                      <a href="../캘린더/캘린더.html"
                        ><span>오늘의 일정</span></a
                      >
                    </li>
                  </ul>
                </div>
              </div>
            </article>

            <article>
              <div id="calendarContainer"></div>
            </article>
          </section>

          <section class="section2">
            <article>
              <ul>
                <h2>게시판 최근 글</h2>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </article>

            <article>
              <a id="mailbox">메일함</a>
            </article>
          </section>

          <section class="section3">
            <article>
              <a href="../결재/결재.html" id="approval">결재 대기 문서</a>
            </article>

            <article>
              <a id="attendance">근태관리</a>
            </article>

            <ul class="write-links">
              <li>
                <!-- <img src="../메일/images/mail.svg"> -->
                <input
                  class="inputBtn"
                  type="button"
                  value="메일쓰기"
                  onclick="window.location='../mail/incomingMail.html'"
                />
              </li>
              <li>
                <input
                  class="inputBtn"
                  type="button"
                  value="기안작성"
                  onclick="window.location='../결재/결재.html'"
                />
              </li>
            </ul>
          </section>
        </div>
      </div>
    </div>
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <script src="../importJS/headerIpt.js"></script>
    
    <script>
      fetch("../calender/calendar.html")
        .then((response) => response.text())
        .then((html) => {
          const tempDiv = document.createElement("div");
          tempDiv.innerHTML = html;

          const linkTags = tempDiv.querySelectorAll("link[href]");
          linkTags.forEach((linkTag) => {
            const href = linkTag.getAttribute("href");
            const link = document.createElement("link");
            link.setAttribute("rel", "stylesheet");
            link.setAttribute("href", "../calendar/" + href); // 캘린더 파일이 위치한 상대 경로로 수정
            document.head.appendChild(link);
          });

          const scriptTags = tempDiv.querySelectorAll("script[src]");
          scriptTags.forEach((scriptTag) => {
            const src = scriptTag.getAttribute("src");
            const script = document.createElement("script");
            script.setAttribute("src", "../calendar/" + src); // 캘린더 파일이 위치한 상대 경로로 수정
            document.body.appendChild(script);
          });

          document.getElementById("calendarContainer").innerHTML = html; // 캘린더를 추가할 요소의 ID로 수정
        })
        .catch((error) => {
          console.log("캘린더 로딩 오류", error);
        });
    </script>
  </body>
</html>
