<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>메일쓰기</title>

    <link rel="stylesheet" href="메일쓰기.css" />
    <script src="../ckeditor/ckeditor.js"></script>
    <script src="http://cdn.ckeditor.com/4.23.0-lts/standard/ckeditor.js"></script>
    <script type="text/javascript">
      function submitForm() {
        alert("등록되었습니다.");
        location.href = "boardList.html";
      }

      function save() {
        alert("임시저장되었습니다.");
      }

      function openOrgChartModal() {
        var modal = document.getElementById("addressBookModal");
        modal.style.display = "block";
      }

      function closeModal() {
        var modal = document.getElementById("addressBookModal");
        modal.style.display = "none";
      }


      function updateRecipientEmail(targetInputId, selectElementId, listContainerId) {

        var selectElement = document.getElementById(selectElementId);
        var recipientEmailInput = document.getElementById(targetInputId);
        var listContainer = document.getElementById(listContainerId);


        var selectedOption = selectElement.options[selectElement.selectedIndex].value;


        if (recipientEmailInput.value !== "") {
          recipientEmailInput.value += ", " + selectedOption;
        } else {
          recipientEmailInput.value = selectedOption;
        }

        var listItem = document.createElement("li");
        listItem.textContent = selectedOption;
        listContainer.appendChild(listItem);
      }
    </script>
    <script
      src="http://kit.fontawesome.com/a4539ed26c.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>

    <form id="top">
      <h3>메일쓰기</h3>
      <div id="middle">
        <ul class="middle_menu">
          <li>
            <span>
              <label for="subjectInput">받는사람
                <label id="sendme">나에게<input type="checkbox" id="subjectInput"></label>
              </label>
              <input type="text" id="recipientEmail" placeholder="이메일 입력" required>
              <select id="recentAddresses" onchange="updateRecipientEmail('recipientEmail', 'recentAddresses', 'recipientList')">
                <option selected>최근주소</option>
                <option value="aaa@naver.com">aaa@naver.com</option>
                <option value="bbb@naver.com">bbb@naver.com</option>
                <option value="ccc@naver.com">ccc@naver.com</option>
              </select>
              <input type="button" class="addressButton" value="주소록" onclick="openOrgChartModal()">
              <div id="addressBookModal" class="modal">
                <p>조직도</p>
                <p>
                <iframe src="../조직도/조직도.html" width="400" height="400" style="border: none;"></iframe>
                </p>
                <span class="close" onclick="closeModal()">&times;</span>
              </div>
            </span>
          </li>
          <li>
            <span>
              <label for="ccInput">참조</label>
              <input type="text" id="ccInput" placeholder="참조 이메일 입력">
              <select id="recentAddressesCc" onchange="updateRecipientEmail('ccInput', 'recentAddressesCc', 'ccList')">
                <option selected>최근주소</option>
                <option value="aaa@naver.com">aaa@naver.com</option>
                <option value="bbb@naver.com">bbb@naver.com</option>
                <option value="ccc@naver.com">ccc@naver.com</option>
              </select>
              <input type="button" class="addressButton" value="주소록" onclick="openOrgChartModal()">
            </span>
          </li>
          <li>
            <label for="subjectInput">제목</label>
            <input type="text" id="subjectInput" placeholder="제목" required>
          </li>
          <li>
            <label for="fileInput">파일첨부</label>
            <input class="file" type="file" value="파일선택">
          </li>
        </ul>
        <form class="middle_content">
          <textarea name="editor1" id="editor1" rows="10" required></textarea>
        </form>
        <div class="bottom">
          <a href="임시보관함.html" onclick="submitForm()">임시보관함</a>          
          <a href="받은메일함.html" onclick="submitForm()">나에게 보내기</a>
          <a href="보낸메일함.html" onclick="submitForm()">보내기</a>
        </div>
      </div>  
    </form>

    <script>
      CKEDITOR.replace("editor1", {
        language: "ko",
      });
    </script>
  </body>
</html>
